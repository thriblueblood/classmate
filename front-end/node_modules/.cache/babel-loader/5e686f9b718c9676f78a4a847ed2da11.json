{"ast":null,"code":"var _jsxFileName = \"/Users/thriblueblood/Desktop/SE/Year4_2/THESIS/pure/classmate/front-end/src/RoomPage/MemberPage.js\",\n    _s = $RefreshSig$();\n\nimport { Card, CardContent, CardActions, Stack, Box, Typography, Divider, Button, Avatar } from \"@mui/material\";\nimport { ThemeProvider } from '@emotion/react';\nimport theme from \"../ui/Theme\";\nimport SearchBar from \"../Components/SearchBar.js\";\nimport AddIcon from '@mui/icons-material/Add';\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport { ChatState } from \"../Context/ChatProvider\";\nimport axios from \"axios\";\nimport React from 'react';\nimport { useState } from 'react';\nimport UserBadgeItem from \"../millen/UserBadgeItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst member = [{\n  key: 1,\n  Avatar: \"\",\n  Name: \"Pure\",\n  role: \"Admin\"\n}, {\n  key: 2,\n  Avatar: \"\",\n  Name: \"Pond\",\n  role: \"Admin\"\n}, {\n  key: 3,\n  Avatar: \"\",\n  Name: \"Thri\",\n  role: \"Member\"\n}];\nexport default function MemberPage(_ref) {\n  _s();\n\n  let {\n    fetchAgain,\n    setFetchAgain,\n    fetchMessage\n  } = _ref;\n  const {\n    selectedChat,\n    setSelectedChat,\n    user\n  } = ChatState();\n  const [open, setOpen] = React.useState(false);\n  const [groupChatName, setGroupChatName] = useState();\n  const [search, setSearch] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [renameloading, setRenameLoading] = useState(false);\n\n  const handleRemove = async user1 => {\n    if (selectedChat.groupAdmin._id !== user._id && user1._id !== user._id) {\n      console.log(\"only admin can remove\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/chat/groupremove`, {\n        chatId: selectedChat._id,\n        userId: user1._id\n      }, config);\n      user1._id === user._id ? setSelectedChat() : setSelectedChat(data);\n      setFetchAgain(!fetchAgain);\n      fetchMessage();\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n\n    setGroupChatName(\"\");\n  };\n\n  const handleRename = async () => {\n    if (!groupChatName) return;\n\n    try {\n      setRenameLoading(true);\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/chat/rename`, {\n        chatId: selectedChat._id,\n        chatName: groupChatName\n      }, config);\n      console.log(data._id); // setSelectedChat(\"\");\n\n      setSelectedChat(data);\n      setFetchAgain(!fetchAgain);\n      setRenameLoading(false);\n    } catch (error) {\n      setRenameLoading(false);\n    }\n\n    setGroupChatName(\"\");\n  };\n\n  const handleSearch = async query => {\n    setSearch(query);\n\n    if (!query) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(`/api/user?search=${search}`, config);\n      console.log(data);\n      setLoading(false);\n      setSearchResult(data);\n    } catch (error) {}\n  };\n\n  const isAdmin = u => {\n    if (selectedChat.groupAdmin._id === u) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        padding: \"1%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        textAlign: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          fontSize: \"1.25rem\",\n          children: \"Members\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginBottom: \"1%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }, this), selectedChat.users.map(u => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          border: \"1px solid grey\",\n          borderRadius: \"3px\",\n          alignItems: \"center\",\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          padding: \"2%\",\n          cursor: 'pointer',\n          marginBottom: \"0.5%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            marginRight: \"1rem\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"column\",\n          spacing: -2,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"overline\",\n            fontSize: \"1rem\",\n            children: u.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), isAdmin(u._id) ? /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 67\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: \"auto\"\n          },\n          children: [isAdmin(u._id), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"primary.main\"\n            },\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(ChatIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 94\n            }, this),\n            children: \"Direct Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"red\",\n              marginLeft: \"0.2rem\"\n            },\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(PersonRemoveIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 103\n            }, this),\n            children: \"Remove from room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 4\n  }, this);\n}\n\n_s(MemberPage, \"o3GUuByyit1msUtk4Vseza9aVF0=\");\n\n_c = MemberPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MemberPage\");","map":{"version":3,"sources":["/Users/thriblueblood/Desktop/SE/Year4_2/THESIS/pure/classmate/front-end/src/RoomPage/MemberPage.js"],"names":["Card","CardContent","CardActions","Stack","Box","Typography","Divider","Button","Avatar","ThemeProvider","theme","SearchBar","AddIcon","PersonRemoveIcon","ChatIcon","ChatState","axios","React","useState","UserBadgeItem","member","key","Name","role","MemberPage","fetchAgain","setFetchAgain","fetchMessage","selectedChat","setSelectedChat","user","open","setOpen","groupChatName","setGroupChatName","search","setSearch","searchResult","setSearchResult","loading","setLoading","renameloading","setRenameLoading","handleRemove","user1","groupAdmin","_id","console","log","config","headers","Authorization","token","data","put","chatId","userId","error","handleRename","chatName","handleSearch","query","get","isAdmin","u","padding","marginBottom","users","map","border","borderRadius","alignItems","display","flexWrap","cursor","marginRight","name","marginLeft","backgroundColor"],"mappings":"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","sourcesContent":["import { Card, CardContent, CardActions,Stack, Box, Typography, Divider,Button, Avatar} from \"@mui/material\";\nimport { ThemeProvider } from '@emotion/react';\nimport theme from \"../ui/Theme\";\nimport SearchBar from \"../Components/SearchBar.js\";\nimport AddIcon from '@mui/icons-material/Add';\n\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\nimport ChatIcon from '@mui/icons-material/Chat';\n\nimport {ChatState} from \"../Context/ChatProvider\";\n\nimport axios from \"axios\";\nimport React from 'react';\n\nimport {useState} from 'react'\n\nimport UserBadgeItem from \"../millen/UserBadgeItem\"\n\nconst member = [\n    {\n      key: 1,\n      Avatar: \"\",\n      Name: \"Pure\",\n      role:\"Admin\"\n    },\n    {\n      key: 2,\n      Avatar: \"\",\n      Name: \"Pond\",\n      role:\"Admin\"\n    },\n    {\n      key: 3,\n      Avatar: \"\",\n      Name: \"Thri\",\n      role:\"Member\"\n    },\n  ];\n\nexport default function MemberPage({fetchAgain, setFetchAgain, fetchMessage}){\n\n    const { selectedChat, setSelectedChat, user } = ChatState();\n    const [open, setOpen] = React.useState(false);\n    const [groupChatName, setGroupChatName] = useState();\n    const [search, setSearch] = useState(\"\");\n    const [searchResult, setSearchResult] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [renameloading, setRenameLoading] = useState(false);\n\n    const handleRemove = async(user1) => {\n      if (selectedChat.groupAdmin._id !== user._id && user1._id !== user._id) {\n        console.log(\"only admin can remove\");\n        return;\n      }\n  \n      try {\n        setLoading(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        };\n        const { data } = await axios.put(\n          `/api/chat/groupremove`,\n          {\n            chatId: selectedChat._id,\n            userId: user1._id,\n          },\n          config\n        );\n      \n  \n        user1._id === user._id ? setSelectedChat() : setSelectedChat(data);\n\n        setFetchAgain(!fetchAgain);\n        fetchMessage();\n        setLoading(false);\n      } catch (error) {\n        console.log(error)\n        setLoading(false);\n      }\n      setGroupChatName(\"\");\n    };\n\n\n    const handleRename = async () => {\n      if (!groupChatName) return;\n  \n      try {\n        setRenameLoading(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        };\n        const { data } = await axios.put(\n          `/api/chat/rename`,\n          {\n            chatId: selectedChat._id,\n            chatName: groupChatName,\n          },\n          config\n        );\n  \n        console.log(data._id);\n        // setSelectedChat(\"\");\n        setSelectedChat(data);\n        setFetchAgain(!fetchAgain);\n        setRenameLoading(false);\n      } catch (error) {\n        \n        setRenameLoading(false);\n      }\n      setGroupChatName(\"\");\n    };\n\n\n    const handleSearch = async (query) => {\n      setSearch(query);\n      if (!query) {\n        return;\n      }\n  \n      try {\n        setLoading(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        };\n        const { data } = await axios.get(`/api/user?search=${search}`, config);\n        console.log(data);\n        setLoading(false);\n        setSearchResult(data);\n      } catch (error) {\n        \n      }\n    };\n\n    const isAdmin = (u) =>{\n      if (selectedChat.groupAdmin._id === u ){\n        return true\n      }else{\n        return false\n      }\n    }\n\n    return(\n   <ThemeProvider theme={theme}>\n        <Box sx={{padding:\"1%\"}}> \n        <Box textAlign=\"center\">\n        <Typography variant=\"h2\" fontSize=\"1.25rem\">Members</Typography>\n        </Box>    \n        <Stack direction=\"row\"> \n        </Stack>\n      <Divider/>\n      <Box sx={{marginBottom:\"1%\"}}>\n      <SearchBar/>\n      </Box>\n\n        {selectedChat.users.map(u =>(\n        <Box sx={{ border: \"1px solid grey\", borderRadius: \"3px\", alignItems: \"center\", display: \"flex\", flexWrap: \"wrap\", padding: \"2%\", cursor: 'pointer', marginBottom:\"0.5%\"}}>\n              <Avatar sx={{marginRight:\"1rem\"}}></Avatar>\n              <Stack direction=\"column\" spacing={-2}>\n              <Typography variant='overline' fontSize=\"1rem\">{u.name}</Typography>\n              {\n                isAdmin(u._id) ? <Typography>Admin</Typography> : <Typography>Member</Typography>\n              }\n              </Stack>\n              <div style={{marginLeft:\"auto\"}}>\n              {\n                isAdmin(u._id) \n              }\n              <Button style={{backgroundColor:\"primary.main\"}}variant=\"contained\" startIcon={<ChatIcon/>}>\n                Direct Message\n            </Button>\n            <Button style={{backgroundColor:\"red\",marginLeft:\"0.2rem\"}}variant=\"contained\" startIcon={<PersonRemoveIcon/>}>\n               Remove from room\n            </Button>\n              </div>\n\n            </Box>\n              \n              ))}\n        </Box>\n        </ThemeProvider>\n    )\n}"]},"metadata":{},"sourceType":"module"}